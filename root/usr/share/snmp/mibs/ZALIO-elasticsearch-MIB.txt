ZALIO-elasticsearch-MIB DEFINITIONS ::= BEGIN

IMPORTS
    OBJECT-TYPE, MODULE-IDENTITY,
    Integer32, Counter64, Gauge32
        FROM SNMPv2-SMI

   TEXTUAL-CONVENTION, DisplayString
        FROM SNMPv2-TC

    MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF

    zalApps, zalConformance, zalCompliances, zalGroups
        FROM ZALIO-MIB;

zalElasticsearch MODULE-IDENTITY
    LAST-UPDATED "201403170000Z"
    ORGANIZATION "zalio AG"
    CONTACT-INFO
        "email:    hans.riethmann@zal.io"
    DESCRIPTION
        "The zalio application MIB for elasticsearch."

    REVISION     "201403170000Z"
    DESCRIPTION
        "First version created."
    ::= { zalConformance 22 }

    zalEs             OBJECT IDENTIFIER ::= { zalApps 10 }
    zalEsCluster      OBJECT IDENTIFIER ::= { zalEs 1 }
    zalEsNode         OBJECT IDENTIFIER ::= { zalEs 2 }

-- The textual conventions we define and use in this MIB.
-- =======================================================

EsStatusTC ::= TEXTUAL-CONVENTION
    STATUS     current
    DESCRIPTION
        "elasticsearch return status, which is returned as  'red', 'green' or 'yellow'"
    SYNTAX     INTEGER {
        green(1),
        yellow(2),
        red(3)
    }

-- Cluster table
-- =======================================================

zalEsClusterTable OBJECT-TYPE
    SYNTAX     SEQUENCE OF ZalEsClusterEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A list of elasticsearch cluster state entries."
    ::= { zalEsCluster 1 }

zalEsClusterEntry OBJECT-TYPE
    SYNTAX     ZalEsClusterEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A collection of cluster relevant information
         describing its state"
    INDEX { zalEsClusterIndex }
    ::= { zalEsClusterTable 1 }

ZalEsClusterEntry ::= SEQUENCE {
    zalEsClusterIndex                  Integer32,
    zalEsStatus                        EsStatusTC,
    zalEsClusterName                   DisplayString,
    zalEsMaster                        DisplayString,
    zalEsNrNodes                       Integer32,
    zalEsDocsCount                     Gauge32,
    zalEsDocsDel                       Gauge32,
    zalEsStoreSize                     Gauge32,
    zalEsStoreThr                      Gauge32
}

-- Indices table
-- =======================================================

zalEsIndicesTable OBJECT-TYPE
    SYNTAX     SEQUENCE OF ZalEsIndicesEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A list of elasticsearch cluster state entries."
    ::= { zalEsCluster 2 }

zalEsIndicesEntry OBJECT-TYPE
    SYNTAX     ZalEsIndicesEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A collection of cluster relevant information
         describing its state"
    INDEX { zalEsClusterIndex,
            zalEsIndicesIndex }
    ::= { zalEsIndicesTable 1 }

ZalEsIndicesEntry ::= SEQUENCE {
    zalEsIndicesIndex                  Integer32,
    zalEsIndexStatus                   EsStatusTC,
    zalEsIndexName                     DisplayString,
    zalEsShardsStatus                  EsStatusTC,
    zalEsShardsActive                  Integer32,
    zalEsShardsReloc                   Integer32,
    zalEsShardsInit                    Integer32,
    zalEsShardsUnas                    Integer32,
    zalEsShardsPrim                    Integer32
}

-- Cluster table objects
-- =======================================================

zalEsClusterIndex OBJECT-TYPE
    SYNTAX        Integer32 (1..255)
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 1 }

zalEsStatus OBJECT-TYPE
    SYNTAX        EsStatusTC 
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 2 }

zalEsClusterName OBJECT-TYPE
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 3 }

zalEsMaster OBJECT-TYPE
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 4 }

zalEsNrNodes OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 5 }

zalEsDocsCount OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 6 }

zalEsDocsDel OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 7 }

zalEsStoreSize OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 8 }

zalEsStoreThr OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsClusterEntry 9 }

-- zalEsIndices OBJECT-TYPE
--     SYNTAX        ZalEsIndicesEntry
--     MAX-ACCESS    not-accessible
--     STATUS        current
--     DESCRIPTION
--         "to be filled in"
--     ::= { zalEsClusterEntry 10 }

-- Indices table objects
-- =======================================================

zalEsIndicesIndex OBJECT-TYPE
    SYNTAX        Integer32 (1..255)
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 1 }

zalEsIndexStatus OBJECT-TYPE
    SYNTAX        EsStatusTC
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 2 }

zalEsIndexName OBJECT-TYPE
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 3 }

zalEsShardsStatus OBJECT-TYPE
    SYNTAX        EsStatusTC
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 4 }

zalEsShardsActive OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 5 }

zalEsShardsReloc OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 6 }

zalEsShardsInit OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 7 }

zalEsShardsUnas OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 8 }

zalEsShardsPrim OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 9 }

-- Node table objects
-- =======================================================

zalEsNodeTable OBJECT-TYPE
    SYNTAX     SEQUENCE OF ZalEsNodeEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A list of elasticsearch cluster state entries."
    ::= { zalEsNode 1 }


zalEsNodeEntry OBJECT-TYPE
    SYNTAX     ZalEsNodeEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A collection of cluster relevant information
         describing its state"
    INDEX { zalEsNodeIndex }
    ::= { zalEsNodeTable 1 }

ZalEsNodeEntry ::= SEQUENCE {
    zalEsNodeIndex                     Integer32,
    zalEsNodeName                      DisplayString,
    zalEsIndexOps                      Counter64,
    zalEsIndexTime                     Gauge32,
    zalEsFlushOps                      Counter64,
    zalEsFlushTime                     Gauge32,
    zalEsThrottleTime                  Gauge32,
    zalEsDeleteOps                     Counter64,
    zalEsDeleteTime                    Gauge32,
    zalEsGetOps                        Counter64,
    zalEsGetTime                       Gauge32,
    zalEsExistsOps                     Counter64,
    zalEsExistsTime                    Gauge32,
    zalEsMissingOps                    Counter64,
    zalEsMissingTime                   Gauge32,
    zalEsQueryOps                      Counter64,
    zalEsQueryTime                     Gauge32,
    zalEsFetchOps                      Counter64,
    zalEsFetchTime                     Gauge32,
    zalEsMergeOps                      Counter64,
    zalEsMergeTime                     Gauge32,
    zalEsRefreshOps                    Counter64,
    zalEsRefreshTime                   Gauge32
}

zalEsNodeIndex OBJECT-TYPE
    SYNTAX        Integer32 (1..255)
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 1 }

zalEsNodeName OBJECT-TYPE
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 2 }

zalEsIndexOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 5 }

zalEsIndexTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 6 }

zalEsFlushOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 7 }

zalEsFlushTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 8 }

zalEsThrottleTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 9 }

zalEsDeleteOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 10 }

zalEsDeleteTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 11 }

zalEsGetOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 12 }

zalEsGetTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 13 }

zalEsExistsOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 14 }

zalEsExistsTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 15 }

zalEsMissingOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 16 }

zalEsMissingTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 17 }

zalEsQueryOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 18 }

zalEsQueryTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 19 }

zalEsFetchOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 20 }

zalEsFetchTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 21 }

zalEsMergeOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 22 }

zalEsMergeTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 23 }

zalEsRefreshOps OBJECT-TYPE
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 24 }

zalEsRefreshTime OBJECT-TYPE
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNodeEntry 25 }
 
-- Compliance Statements
zalEsCompliance MODULE-COMPLIANCE
    STATUS current
    DESCRIPTION
        "still finding out how this all fits together"
    MODULE
        GROUP zalEsGroup
            DESCRIPTION
                "dito"
    ::= { zalCompliances 20 }


zalEsGroup OBJECT-GROUP
    OBJECTS { zalEsClusterName,
              zalEsMaster,
              zalEsStatus,
              zalEsNrNodes,
              zalEsShardsStatus,
              zalEsShardsActive,
              zalEsShardsReloc,
              zalEsShardsInit,
              zalEsShardsUnas,
              zalEsShardsPrim,
              zalEsNodeName,
              zalEsDocsCount,
              zalEsDocsDel,
              zalEsStoreSize,
              zalEsStoreThr,
              zalEsIndexStatus,
              zalEsIndexName,
              zalEsIndexOps,
              zalEsIndexTime,
              zalEsFlushOps,
              zalEsFlushTime,
              zalEsThrottleTime,
              zalEsDeleteOps,
              zalEsDeleteTime,
              zalEsGetOps,
              zalEsGetTime,
              zalEsExistsOps,
              zalEsExistsTime,
              zalEsMissingOps,
              zalEsMissingTime,
              zalEsQueryOps,
              zalEsQueryTime,
              zalEsFetchOps,
              zalEsFetchTime,
              zalEsMergeOps,
              zalEsMergeTime,
              zalEsRefreshOps,
              zalEsRefreshTime }
    STATUS  current
    DESCRIPTION
            "A collection of objects providing basic instrumentation and
            control of an elasticsearch node."
    ::= { zalGroups 1 }

END
