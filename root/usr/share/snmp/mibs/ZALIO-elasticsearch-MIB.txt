ZALIO-elasticsearch-MIB DEFINITIONS ::= BEGIN

IMPORTS
    OBJECT-TYPE, MODULE-IDENTITY,
    Integer32, Counter64, Gauge32
        FROM SNMPv2-SMI

   TEXTUAL-CONVENTION, DisplayString
        FROM SNMPv2-TC

    MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF

    zalApps, zalConformance, zalCompliances, zalGroups
        FROM ZALIO-MIB;

zalElasticsearch MODULE-IDENTITY
    LAST-UPDATED "201403170000Z"
    ORGANIZATION "zalio AG"
    CONTACT-INFO
        "email:    hans.riethmann@zal.io"
    DESCRIPTION
        "The zalio application MIB for elasticsearch."

    REVISION     "201403170000Z"
    DESCRIPTION
        "First version created."
    ::= { zalConformance 22 }

    zalEs             OBJECT IDENTIFIER ::= { zalApps 10 }
    zalEsCluster      OBJECT IDENTIFIER ::= { zalEs 1 }
    zalEsNode         OBJECT IDENTIFIER ::= { zalEs 2 }
    zalEsIndices      OBJECT IDENTIFIER ::= { zalEs 3 }


-- The textual conventions we define and use in this MIB.
-- =======================================================

EsStatusTC ::= TEXTUAL-CONVENTION
    STATUS     current
    DESCRIPTION
        "elasticsearch return status, which is returned as  'red', 'green' or 'yellow'"
    SYNTAX     INTEGER {
        green(1),
        yellow(2),
        red(3)
    }


-- Cluster objects
-- =======================================================

zalEsStatus OBJECT-TYPE -- Cluster
    SYNTAX        EsStatusTC 
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 1 }

zalEsClusterName OBJECT-TYPE -- Cluster
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 2 }

zalEsNrNodes OBJECT-TYPE -- Cluster
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 3 }

zalEsNrDataNodes OBJECT-TYPE -- Cluster
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 4 }

zalEsDocsCount OBJECT-TYPE -- Cluster
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 5 }

zalEsDocsDel OBJECT-TYPE -- Cluster
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 6 }

zalEsStoreSize OBJECT-TYPE -- Cluster
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 7 }

zalEsStoreThr OBJECT-TYPE -- Cluster
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 8 }

-- //localhost/_cluster/state
zalEsMaster OBJECT-TYPE -- Cluster
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsCluster 9 }

-- Cluster group definition

zalEsClusterGroup OBJECT-GROUP
    OBJECTS { zalEsStatus,
              zalEsClusterName,
              zalEsNrNodes,
              zalEsNrDataNodes,
              zalEsDocsCount,
              zalEsDocsDel,
              zalEsStoreSize,
              zalEsStoreThr,
              zalEsMaster
            }
    STATUS  current
    DESCRIPTION
            "A collection of objects providing basic instrumentation and
            control of an elasticsearch cluster."
    ::= { zalGroups 1 }


-- Node objects
-- =======================================================

zalEsNodeName OBJECT-TYPE -- Node
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 2 }

zalEsIndexOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 5 }

zalEsIndexTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 6 }

zalEsFlushOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 7 }

zalEsFlushTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 8 }

zalEsThrottleTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 9 }

zalEsDeleteOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 10 }

zalEsDeleteTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 11 }

zalEsGetOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 12 }

zalEsGetTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 13 }

zalEsExistsOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 14 }

zalEsExistsTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 15 }

zalEsMissingOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 16 }

zalEsMissingTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 17 }

zalEsQueryOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 18 }

zalEsQueryTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 19 }

zalEsFetchOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 20 }

zalEsFetchTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 21 }

zalEsMergeOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 22 }

zalEsMergeTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 23 }

zalEsRefreshOps OBJECT-TYPE -- Node
    SYNTAX        Counter64
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 24 }

zalEsRefreshTime OBJECT-TYPE -- Node
    SYNTAX        Gauge32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsNode 25 }

-- Node group definition

zalEsNodeGroup OBJECT-GROUP
    OBJECTS { 
             zalEsNodeName,
             zalEsIndexOps,
             zalEsIndexTime,
             zalEsFlushOps,
             zalEsFlushTime,
             zalEsThrottleTime,
             zalEsDeleteOps,
             zalEsDeleteTime,
             zalEsGetOps,
             zalEsGetTime,
             zalEsExistsOps,
             zalEsExistsTime,
             zalEsMissingOps,
             zalEsMissingTime,
             zalEsQueryOps,
             zalEsQueryTime,
             zalEsFetchOps,
             zalEsFetchTime,
             zalEsMergeOps,
             zalEsMergeTime,
             zalEsRefreshOps,
             zalEsRefreshTime
            }
    STATUS  current
    DESCRIPTION
            "A collection of objects providing basic instrumentation and
            control of an elasticsearch node."
    ::= { zalGroups 2 }


-- Indices table
-- =======================================================

zalEsIndicesTable OBJECT-TYPE
    SYNTAX     SEQUENCE OF ZalEsIndicesEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A list of elasticsearch cluster state entries."
    ::= { zalEsIndices 1 }

zalEsIndicesEntry OBJECT-TYPE
    SYNTAX     ZalEsIndicesEntry
    MAX-ACCESS not-accessible
    STATUS     current
    DESCRIPTION
        "A collection of cluster relevant information
         describing its state"
    INDEX { zalEsIndicesIndex }
    ::= { zalEsIndicesTable 1 }

ZalEsIndicesEntry ::= SEQUENCE {
    zalEsIndicesIndex                Integer32,
    zalEsIndStatus                   EsStatusTC,
    zalEsIndName                     DisplayString,
    zalEsShrdStatus                  EsStatusTC,
    zalEsShrdActive                  Integer32,
    zalEsShrdReloc                   Integer32,
    zalEsShrdInit                    Integer32,
    zalEsShrdUnas                    Integer32,
    zalEsShrdPrim                    Integer32,
    zalEsShrdRepl                    Integer32
}


-- Indices table objects
-- =======================================================

zalEsIndicesIndex OBJECT-TYPE
    SYNTAX        Integer32 (1..255)
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 1 }

zalEsIndStatus OBJECT-TYPE
    SYNTAX        EsStatusTC
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 2 }

zalEsIndName OBJECT-TYPE
    SYNTAX        DisplayString
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 3 }

zalEsShrdStatus OBJECT-TYPE
    SYNTAX        EsStatusTC
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 4 }

zalEsShrdActive OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 5 }

zalEsShrdReloc OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 6 }

zalEsShrdInit OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 7 }

zalEsShrdUnas OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 8 }

zalEsShrdPrim OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 9 }

zalEsShrdRepl OBJECT-TYPE
    SYNTAX        Integer32
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
        "to be filled in"
    ::= { zalEsIndicesEntry 10 }

-- Indices group definition

zalEsIndicesGroup OBJECT-GROUP
    OBJECTS {
             zalEsIndStatus,
             zalEsIndName,
             zalEsShrdStatus,
             zalEsShrdActive,
             zalEsShrdReloc,
             zalEsShrdInit,
             zalEsShrdUnas,
             zalEsShrdPrim,
             zalEsShrdRepl
            }
    STATUS  current
    DESCRIPTION
            "A collection of objects providing basic instrumentation and
            control of an elasticsearch node."
    ::= { zalGroups 3 }

 
-- Compliance
zalEsCompliance MODULE-COMPLIANCE
    STATUS current
    DESCRIPTION
        "still finding out how this all fits together"
    MODULE
        GROUP zalEsClusterGroup
            DESCRIPTION
                "dito"
        GROUP zalEsNodeGroup
            DESCRIPTION
                "dito"
        GROUP zalEsIndicesGroup
            DESCRIPTION
                "dito"
    ::= { zalCompliances 20 }

END
